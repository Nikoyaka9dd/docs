---
title: number
summary: 数値型は実数を表します。
---
### 定義
名前空間:Alice / アセンブリ : Losetta.dll / サポート: AliceScript1

数値型は実数を表します。数値型は算術、比較、等値演算子をサポートしています。

AliceScriptの数値型の表現できるおおよその範囲は、±5.0 × 10−324 - ±1.7 × 10308(-15~17桁)で、サイズは8バイトです。

数値型の規定値はゼロ0です。また、数値型で非数、正方向の無限、負方向の無限を表す定数がそれぞれ、`NaN`、`∞`、`-∞`として定義されています。

数値型への暗黙的な変換は存在しません。型変換演算子([as](../../general/expression.md))を使用するか`Convert`メソッドを使って、文字列型、`bool`型、`bytes`型からの明示的な変換がサポートされています。また、数値型専用のメソッドは存在しません。この型の型指定修飾子は`number`です。

AliceScriptの数値型では小数点以下の計算が予想通りにいかない場合があります。[数値型の計算誤差](../../tutorial/calculation-error.md)の記事を参照してください。

```cs title="AliceScript"
namespace Alice;
public class number;
```

### 説明
数値型は、${ -1.7976931348623157 \times 10^{308} }$から${1.7976931348623157 \times 10^{308} }$までの範囲の数および非数(NaN)をAliceScriptで表現することを表しています。この型は、非常に大きな値（たとえば、惑星や銀河間の距離など）または非常に小さな値（物質の分子量など）を表すことができる代わりに、しばしば不正確な値（地球から別の太陽系までの距離など）を表すこともあります。
数値型は、2進浮動小数点数演算のIEC 60559:1989 (IEEE 754) 標準に準拠しています。

数値型の最大値と最小値は、それぞれ[math_maxValue](../alice/math/math_maxvalue.md)と[math_minValue](../alice/math/math_minvalue.md)定数を用いて取得できます。

### 浮動小数点表現と精度
コンピューター人間の使うような10進数で値を格納することができません。必ず2進数に変換して演算し、保存する必要があります。

たとえば、$0.00025$という数があったとします。この数を2進数に変換するにはまず、この数を仮数と指数、符号に分けます。分けると、次のようになります。

$$
+0.25\times10^{-3}
$$

|部|値|
|---|---|
|仮数|0.25|
|指数|-3|
|符号|+|

小数が一部の値（$1/3$や$\pi$など）を正確に表すことができないのと同様に、2進数の小数は一部の小数値を表すことができません。たとえば、$1/10$は10進数では$0.1$として正確に表されますが、2進数では、$0.001100110011...$と表され`0011`が無限に繰り返されます。
この場合、浮動小数点数値は途中で計算を停止し、値を丸めた不正確な値をとります。
また、一般に元の浮動小数点値に対して追加の数学演算を実行すると、精度がさらに低下する傾向があります。たとえば、$0.1$に10を掛けた結果と$0.1$に$0.1$を9回足した結果を比較すると、後者の方がさらに8回の演算が必要なため、足し算の精度は下がります。実際、次の例のようなことが起こり得ます。

```cs title="AliceScript"
var value = 0.1;
var result1 = value * 10;
var result2 = 0;
for(var i=0;i<=10;i++){
    result2 += value;
}
print("0.1 * 10 = {0}",result1); // 出力例 : 0.1 * 10 = 1
print("0.1を10回足したもの = {0}",result2); // 出力例 : 0.1を10回足したもの = 1.09999999
```

一部の数値は2進数の小数として正確に表現することができないため、数値型は実数の近似しかできません。

また、数値型には有効桁数の制限があり、これによって値がどれだけ正確に実数に近似するかが決まります。数値型の精度は最大15桁です。
