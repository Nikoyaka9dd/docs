---
title: delegate
summary: デリゲート型は、匿名関数のように一連のステートメントのまとまりを表します。
---
### 定義
名前空間:Alice / アセンブリ : Losetta.dll / サポート: AliceScript1

デリゲート型は、匿名関数のように一連のステートメントのまとまりを表します。デリゲート型は結合、比較、等値演算子をサポートしています。 デリゲート型の規定値は空のステートメント{}です。この型はnullをとり得ます。デリゲート型への暗黙的な変換と明示的な変換の両方はサポートされていません。この型の型指定修飾子はdelegateです。

デリゲート型は、配列のように複数の要素を持つことができます。しかし、デリゲート型にはデリゲート型以外の要素を含めることはできません。

```cs title="AliceScript"
namespace Alice;
global class delegate
```

### プロパティ
|名前|説明|
|---|---|
|[Length](../array/length.md)|その変数の持つデータ長を表します|

### メソッド
|名前|説明|
|---|---|
|[Size()](../array/size.md)|その変数の持つデータ長を取得します|

### 説明
デリゲートは、AliceScriptにおける"匿名関数"のメカニズムです。デリゲート型は匿名関数として、その場ですぐに実行したり、変数に代入したり、関数に引数として渡すことができます。

例えば、蔵書検索アプリケーションを作成することを考えてみましょう。この検索の条件は、それと完全に一致する、それを含む、それを含まない、の3つが用意されています。いずれの場合も、Search関数が行うことは基本的に同じです。つまり、何らかの条件に基づいて一連の蔵書から項目を検索します。しかし、条件に基づいて検索するコードはそれぞれの条件によって異なります。

そのような場面でデリゲートを使うと、変数のように値を変更することでプログラムの実行中に処理内容を切り替えることができます。Search関数に関連づけられていいるデリゲートを変更すればよいのです。

ソフトウェアには、この種の手法が半世紀にわたって使用されてきました。AliceScriptのデリゲートは、さらに思い通りで柔軟なプログラミングを実現します。

デリゲートには次の特徴があります。

- デリゲートを使用すると、関数を引数として渡すことができます
- デリゲートは、コールバック関数の仕組みを実現するのに使用できます
- デリゲートは連結できます。例えば、複数の関数を一度の呼び出しで実行できます。

この記事では、delegateキーワードとそれによって生成されるデリゲート型について説明します。

#### 基本
デリゲート型は、delegateキーワードと、そのデリゲートの実行に必要な引数を指定して宣言されます。

引数はかっこで囲み、各引数をコンマで区切ります。括弧内を空にすると、デリゲートは引数が不要なことを意味します。

デリゲートを同期的に呼び出すには関数のように丸括弧を使用して呼び出すか、Invokeメソッド使用し、非同期的に呼び出すにはBeginInvokeメソッドを使用します。 また基本的には、引数の指定方法や戻り値に関する詳細は関数と同じです。詳しく知るには関数の記事も参照してください。

次の例にはデリゲートを生成し、それをSayHelloとして定義します。SayHelloが呼び出されたとき、標準出力にHello,World!を書き込みます。

var SayHello = delegate()
 {
   print("Hello,World!");
 }
SayHello();//出力例:Hello,World!